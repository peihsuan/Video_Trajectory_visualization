
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" charset="utf-8"></script>
<script>
//The data for our line 
 var lineFunction = d3.svg.line()
                          .x(function(d) { return d.x; })
                          .y(function(d) { return d.y; })
                         .interpolate("basis");


//The SVG Container
var svg = d3.select("body").append("svg")
                                    .attr("width", 720)
                                    .attr("height", 480);
//The line SVG Path we draw
/*var lineGraph = svgContainer.append("path")
                            .attr("d", lineFunction(lineData))
                            .attr("stroke", "blue")
                            .attr("class", "line ani")
                            .attr("stroke-width", 2)
                            .attr("fill", "none");
                            */
/*
d3.csv("data.csv", function(data) {
  console.log(data);
});
*/
var i=0;
//var l;
d3.json("result_first_10min_noduplicate_time.json", function(error,data) { 
  for (traj in data) {
    var traj_data = data[traj];
        if(i%10==1||2||3||4||5||6){
          p = svg.append("path")
              .attr("stroke-dasharray",2400 +' '+2400)
              .attr("stroke-dashoffset",2400)
              .attr("d",lineFunction(traj_data))
              .attr("class","line").transition().duration(20000).delay(i*50).ease("linear").attr({
                  "stroke-dashoffset": -5000
              }).remove();
        }
        else{
           p = svg.append("path")
              .attr("stroke-dasharray",2400 +' '+2400)
              .attr("stroke-dashoffset",2400)
              .attr("d",lineFunction(traj_data))
              .attr("class","line").transition().duration(20000).delay(i*150).ease("linear").attr({
                  "stroke-dashoffset": -5000
              }).remove();
        }
           //  console.log(p);
         //  var time =traj_data['time'];
           //console.log(traj_data);
         /*   var l=p.node().getTotalLength(); 
            return p.attr({
              "stroke-dasharray": l / 10 + " " + l / 10,
              "stroke-dashoffset": l
            }).transition().duration(100000).delay(i*100).ease("linear").attr({
              "stroke-dashoffset": -100000
            });*/
         //    console.log("Traj "+i+"length "+l);
      i++;
    }
      

});

                  
</script>

 <style>
svg{
  background-image: url("Background.png")
}
.line{
  stroke:blue;
  opacity: 0.4;
  stroke-width:2;
  fill:none;
}
 </style>
</body>
